---
output:
  md_document:
    variant: markdown_github
---

```{r, echo = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.path = "README-"
)
```

# clusteredinterference

The goal of clusteredinterference is to estimate causal effects from observational study data in the presence of clustered interference.

## Install the package

You'll need to use the `devtools` package to install from GitHub:

```{r, eval = FALSE}
devtools::install_github("BarkleyBG/clusteredinterference")
```


## Load this package 

```{r}
library(clusteredinterference)
```

## A quick data example

```{r}
library(inferference)
data("vaccinesim", package = "inferference") 
head(vaccinesim)

```

## Estimation

Estimation is implemented with one function:

```{r} 
causal_fx <- policyFX(
  data = vaccinesim[1:300,],
  formula = Y | A ~ X1 + X2 + (1|group) | group,
  alphas = c(.3, .5), 
  k_samps = 1
)
```


```{r}
knitr::kable(causal_fx$estimates, digits = 3)
```

## Vignette

The vignette provides more information on the formal arguments.


## Acknowledgments

- Please see the [inferference](https://cran.r-project.org/package=inferference) package for related estimators from the article [Tchetgen Tchetgen and VanderWeele (2012) article, "On causal inference in the presence of interference"](https://doi.org/10.1177/0962280210386779)
- An earlier version of the methods implemented in `clusteredinterference` was implemented using the [`geex`](https://github.com/bsaul/geex) package for estimating equations.
- Thanks to [Bradley Saul](https://github.com/bsaul) for `inferference`, `geex`, and for comments and suggestions that were helpful in the creation of `clusteredinterference`.
